templatedir = ../../../pandoc/templates

all:
	pandoc -f markdown+smart \
		-V documentclass=memoir -V lang=nl-BE -M lang:nl \
		--include-in-header=preamble.tex \
		--include-before-body=voorwoord.tex \
		--include-after-body=afterbody.tex \
		--pdf-engine=xelatex \
		--filter pandoc-citeproc \
		--filter filters/fancybreak.py \
		--top-level-division=part \
		--metadata-file=metadata.yml \
		--highlight-style=haddock \
		-t latex > boek.tex \
		intro.pd.md 
	xelatex boek.tex
	#echo "UIT"

#		intro.pd.md kabouters.pd.md bokrijk.pd.md \
#		de-leerschool.pd.md alles-vergeten-dat-geleerd-is.pd.md \
#		de-echte-leerschool.pd.md boer.pd.md verdienen.pd.md \
#		intermezzo1.pd.md crashcursus-microbiologie.pd.md \
#		structuur.pd.md geur.pd.md recept.pd.md \
#		overschot.pd.md epiloog.pd.md


proofread:
	pandoc -f markdown+smart temp_tergoedkeuring.pd.md -V lang=nl-BE --include-in-header=preamble.tex --pdf-engine=xelatex -V documentclass=book --top-level-division=part --metadata-file=metadata.yml -o nalezen.pdf

copyright:
	pandoc -f markdown copyright.md  --template=ieee_software --listings --variable urlcolor=cyan -o copyright_letter.pdf

synopsis:
	pandoc -f markdown synopsis.md  -V documentclass=article --highlight-style=haddock -o synopsis.pdf	

clean:
	# source tex file
	rm -rf boek.tex
	rm -rf nalezen.tex
	
	# files generated by xelatex
	rm -rf *.aux
	rm -rf *.log
	rm -rf *.out
	rm -rf *.lof
	rm -rf *.lot
	rm -rf *.ilg
	rm -rf *.idx
	rm -rf *.ind
	rm -rf *.toc

	# built pdf file
	rm -rf *.pdf
